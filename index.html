<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ideen-Würfel</title>
    <link rel="manifest" href="manifest.json">
    <style>
        body { margin: 0; background: #000; color: #fff; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        
        /* Die Bühne mit Zoom-Effekt */
        .scene { width: 300px; height: 300px; perspective: 1200px; transition: transform 1s ease-in-out; display: flex; align-items: center; justify-content: center; }
        
        /* Der Würfel-Container */
        #dice { width: 100px; height: 100px; position: relative; transform-style: preserve-3d; transition: transform 3s cubic-bezier(0.2, 0, 0.2, 1); }

        /* Jede der 20 Flächen */
        .face { 
            position: absolute; 
            width: 0; height: 0; 
            border-left: 60px solid transparent; 
            border-right: 60px solid transparent; 
            border-bottom: 104px solid rgba(0, 200, 255, 0.6); 
            transform-origin: 50% 100%; 
            backface-visibility: hidden; 
            display: flex; align-items: center; justify-content: center;
            filter: drop-shadow(0 0 10px #00aaff);
        }

        /* Text auf den Flächen */
        .face span { 
            position: absolute; 
            top: 45px; width: 90px; left: -45px; 
            text-align: center; font-size: 11px; color: #fff; 
            font-weight: bold; text-shadow: 2px 2px 3px #000; 
            pointer-events: none; line-height: 1.2;
        }

        button { 
            margin-top: 50px; padding: 15px 45px; font-size: 24px; 
            background: linear-gradient(135deg, #00f2fe 0%, #4facfe 100%); 
            color: #000; border: none; border-radius: 10px; 
            cursor: pointer; box-shadow: 0 0 20px #00f2fe; font-weight: bold; 
        }

        .zoom { transform: scale(2.5); }
    </style>
</head>
<body>
    <div class="scene" id="scene">
        <div id="dice"></div>
    </div>
    <button onclick="roll()">GO</button>

    <script>
        const phrases = [
            "Hörspiel hören", "Sendung schauen", "Buch lesen", "Bild malen",
            "Geschichte schreiben", "Thema recherchieren", "Brettspiel spielen", "Rätsel lösen",
            "Kreidezeichnung", "Puzzle lösen", "Instrument üben", "Experiment machen",
            "Meinung schreiben", "Spaziergang", "Lied mitsingen", "Origami falten",
            "Tagebuch schreiben", "Snack zubereiten", "Lern-Quiz", "Aufräumen"
        ];

        const dice = document.getElementById('dice');
        
        // Mathematische Verteilung für einen geschlossenen Körper
        for (let i = 0; i < 20; i++) {
            const face = document.createElement('div');
            face.className = 'face';
            face.innerHTML = `<span>${phrases[i]}</span>`;
            
            // Verteilung: 5 oben, 10 mitte, 5 unten
            let x, y;
            if (i < 5) { // Oben
                x = 30; y = i * 72;
            } else if (i < 15) { // Mitte
                x = 90; y = (i - 5) * 36;
            } else { // Unten
                x = 150; y = (i - 15) * 72;
            }
            
            face.style.transform = `rotateY(${y}deg) rotateX(${x}deg) translateZ(80px)`;
            dice.appendChild(face);
        }

        function roll() {
            const scene = document.getElementById('scene');
            scene.classList.remove('zoom');
            
            // Viel Rotation für den "Glücksspiel"-Effekt
            const randX = Math.floor(Math.random() * 2000) + 1500;
            const randY = Math.floor(Math.random() * 2000) + 1500;
            
            dice.style.transform = `rotateX(${randX}deg) rotateY(${randY}deg)`;
            
            // Zoom erst wenn der Würfel fast steht
            setTimeout(() => {
                scene.classList.add('zoom');
            }, 3100);
        }

        if ('serviceWorker' in navigator) { navigator.serviceWorker.register('sw.js'); }
    </script>
</body>
</html>
