<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ideen-Würfel</title>
    <link rel="manifest" href="manifest.json">
    <style>
        /* --- Grundlayout --- */
        body { margin: 0; background: #000; color: #fff; font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }

        /* --- Die Neon-Kugel (statt des kaputten Würfels) --- */
        .scene { width: 300px; height: 300px; position: relative; perspective: 1000px; transition: opacity 0.5s; }
        .sphere { width: 100%; height: 100%; transform-style: preserve-3d; animation: spin-slow 12s linear infinite; }
        .ring { position: absolute; top: 50%; left: 50%; width: 220px; height: 220px; margin: -110px; border-radius: 50%; border: 3px solid rgba(0, 255, 255, 0.6); box-shadow: 0 0 15px #00ffff, inset 0 0 15px #00ffff; }
        /* Ringe in verschiedene Richtungen drehen */
        .ring:nth-child(1) { transform: rotateY(0deg); }
        .ring:nth-child(2) { transform: rotateY(60deg); }
        .ring:nth-child(3) { transform: rotateY(120deg); }
        .ring:nth-child(4) { transform: rotateX(90deg); }
        .ring:nth-child(5) { transform: rotateX(45deg); }

        /* --- Animationen --- */
        @keyframes spin-slow { 100% { transform: rotateY(360deg) rotateX(360deg) rotateZ(360deg); } }
        @keyframes spin-fast { 100% { transform: rotateY(3600deg) rotateX(1800deg); } }
        .rolling .sphere { animation: spin-fast 2s cubic-bezier(0.1, 0.7, 0.1, 1); }
        .fade-out { opacity: 0; }

        /* --- Das Ergebnis-Textfeld (waagrecht & lesbar!) --- */
        #result-box {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0);
            background: rgba(0, 0, 0, 0.85); border: 3px solid #ff00ff; box-shadow: 0 0 40px #ff00ff;
            padding: 30px; border-radius: 25px; text-align: center; width: 80%; max-width: 400px;
            opacity: 0; transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); /* Cooler "Pop"-Effekt */
            pointer-events: none; z-index: 20;
        }
        #result-text { font-size: 26px; font-weight: bold; color: #fff; text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff; line-height: 1.3; }
        .show-result { opacity: 1 !important; transform: translate(-50%, -50%) scale(1) !important; }

        /* --- Der Button --- */
        button { position: absolute; bottom: 60px; padding: 15px 60px; font-size: 24px; background: linear-gradient(45deg, #ff00ff, #00ffff); color: #000; border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 0 25px rgba(255, 0, 255, 0.8); font-weight: bold; z-index: 100; transition: transform 0.1s; letter-spacing: 2px; }
        button:active { transform: scale(0.95); }
        button:disabled { opacity: 0.7; cursor: not-allowed; }
    </style>
</head>
<body>
    <div class="scene" id="scene">
        <div class="sphere">
            <div class="ring"></div><div class="ring"></div><div class="ring"></div><div class="ring"></div><div class="ring"></div>
        </div>
    </div>

    <div id="result-box">
        <div id="result-text"></div>
    </div>

    <button onclick="roll()">GO</button>

    <script>
        const phrases = [
            "Ein Hörspiel hören", "Eine Sendung schauen", "Ein Buch oder Comic lesen", "Ein eigenes Bild malen",
            "Eine kurze Geschichte schreiben", "Ein Sachthema recherchieren", "Ein Brettspiel spielen", "Ein Rätsel oder Logikproblem lösen",
            "Mit Kreide etwas auf den Boden zeichnen", "Ein Puzzle lösen", "Ein Musikinstrument üben", "Ein einfaches Experiment durchführen",
            "Eine eigene Meinung zu einem Thema aufschreiben", "Einen kleinen Spaziergang machen", "Ein Lied hören und mitsingen", "Origami falten",
            "Ein Tagebuch schreiben", "Einen einfachen Snack zubereiten", "Ein Lernspiel oder Quiz machen", "Etwas aufräumen und neu ordnen"
        ];

        const scene = document.getElementById('scene');
        const resultBox = document.getElementById('result-box');
        const resultText = document.getElementById('result-text');
        const button = document.querySelector('button');

        function roll() {
            // 1. Alles zurücksetzen
            resultBox.classList.remove('show-result');
            scene.classList.remove('fade-out');
            button.disabled = true; // Button sperren

            // 2. Kugel schnell drehen lassen
            setTimeout(() => { scene.classList.add('rolling'); }, 50);
            
            // 3. Nach 2 Sekunden das Ergebnis zeigen
            setTimeout(() => {
                // Zufälligen Spruch wählen
                resultText.innerText = phrases[Math.floor(Math.random() * phrases.length)];

                // Kugel ausblenden, Ergebnis einblenden
                scene.classList.remove('rolling');
                scene.classList.add('fade-out');
                resultBox.classList.add('show-result');
                
                button.disabled = false; // Button wieder freigeben
            }, 2000);
        }

        // WICHTIG für die Installation als App
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>
